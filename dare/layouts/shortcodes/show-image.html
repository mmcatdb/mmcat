{{ $src := .Get "src" }}
{{ $alt := .Get "alt" }}
{{ $width := "auto" }}
{{ if isset .Params "width" }}
    {{ $width = .Get "width" }}
{{ end }}
{{ $caption := "" }}
{{ if isset .Params "caption" }}
    {{ $caption = .Get "caption" }}
{{ end }}
{{ $buttonLabel := .Get "label" }}
{{ $id := .Get "id" }}

<div style="text-align: left;">
    <button
        onclick="document.getElementById('{{ $id }}').style.display = document.getElementById('{{ $id }}').style.display === 'none' ? 'block' : 'none';"
        style="margin-bottom: 10px;"
    >
        {{ $buttonLabel }}
    </button>
    <br />
    <div id="{{ $id }}" style="display: none; text-align: center;">
        <img
            src="{{ $src }}"
            alt="{{ $alt }}"
            decoding="async"
            width="{{ $width }}"
            title="{{ $caption }}"
        />
        {{ if isset .Params "caption" }}
            <br />
            <span style="font-style: italic;">
                {{ $caption }}
            </span>
        {{ end }}
    </div>
</div>
